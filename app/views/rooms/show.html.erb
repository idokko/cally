<% @entries.each do |e| %>
    <!-- eachで回したentryユーザーがログインユーザーでなければ、@classに"current_userの文字列を代入する" -->
    <!-- ログインユーザーであれば、空白を代入する -->
    <% current_user == e.user ? @class = "current_user" : @class = "" %>
    <!-- eachで回したentryユーザーがログインユーザーでなければ、entryユーザー名も表示する -->
    <% if e.user != current_user %>
        <h5 class = "text-left <%= @class %>" id = "<%= @class %>" style = "font-size: 30px;" data-id = "<%= e.user.id %>">
            <%= link_to "@#{e.user.name}", user_path(e.user_id) %>
        </h5>
    <% else %>
        <h5 class = "text-left <%= @class %>" id = "<%= @class %>" data-id = "<%= e.user.id %>">
        </h5>
    <% end %>
<% end %>

<!-- メッセージ内容は、パーシャルにする -->
<!-- パーシャル:他のviewファイルから呼び出して利用できる、可読性と再利用性を上げる -->
<form><label>お話部屋</label></form>
<div id = "direct_messages" data-room_id = "<%= @room.id %>">
     <%= render @direct_messages %>
</div>
<!-- メッセージフォーム -->
<form>
    <label class = "text-black" id = "target">新しいメッセージを作成</label><br>
    <input type = "text" id = "chat-input" data-behavior = "room_speaker" class = "form-control" >
</form>

<script>
    // トークルーム遷移時に入力フォーム記載場所にスクロールする(最新トークが下にある為)
    var element = document.getElementById('target'); // 移動させたい位置の要素を取得
    var rect = element.getBoundingClientRect();
    var position = rect.top;
    setTimeout(function() {
        scrollTo(0, position);
    }
    , 1000);
</script>